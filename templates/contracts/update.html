{% extends 'base.html' %}

{% block title %}
  Contratos
{% endblock %}

{% block body %}
  <h1 class="mb-4">Contrato No. {{ contract.id }}</h1>
  <form method="POST" class="row g-2">
    {% csrf_token %}
    <div class="col-md-4 col-6">
      <div class="form-floating">
        <input type="text" class="form-control" id="id" name="id" value="{{ contract.id }}" required />
        <label for="id">ID</label>
      </div>
    </div>
    <div class="col-md-4 col-6">
      <div class="form-floating">
        <input type="text" class="form-control" id="contractor" name="contractor" value="{{ contract.contractor }}" required />
        <label for="contractor">Contratista</label>
      </div>
    </div>
    <div class="col-md-4 col-6">
      <div class="form-floating">
        <input type="date" class="form-control" id="date" name="date" value="{{ contract.date }}" required />
        <label for="date">Fecha de Suscripción</label>
      </div>
    </div>
    <div class="col-md-4 col-6">
      <div class="form-floating">
        <input type="number" class="form-control" id="duration" name="duration" min="0" value="{{ contract.duration }}" required />
        <label for="duration">Plazo de Ejecución</label>
      </div>
    </div>
    <div class="col-md-4 col-12">
      <div class="form-floating">
        <select class="form-select" id="certification" name="certification">
          {% for certification in certifications %}
            <option value="{{ certification.number }}" {% if value == contract.certification.number %} selected {% endif %}>Cert. #{{ certification.number }} - {{ certification.budget_item }} - USD {{ certification.budget }}</option>
          {% endfor %}
        </select>
        <label for="certification">Certificación</label>
      </div>
    </div>
    <div class="col-md-4 col-12">
      <div class="form-floating">
        <select class="form-select" id="admin" name="admin">          
          {% for employee in employees %}
            <option value="{{ employee.ci }}" {% if value == contract.admin.ci %} selected {% endif %}>{{ employee.name }} {{ employee.surname }}</option>
          {% endfor %}
        </select>
        <label for="admin">Administrador</label>
      </div>
    </div>
    <div class="mt-2">
      <a href="{% url 'contracts:list' %}" class="btn btn-outline-secondary">Cancelar</a>
      <button type="submit" class="btn btn-outline-primary">Guardar</button>
    </div>
  </form>
{% endblock %}
